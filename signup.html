<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  
    <style>
        .middle {
            margin-left:50px;
            margin-right:50px;
            margin-top:20px;
            margin-bottom:20px;
        }

    </style>

    <script type="module">

    // Import the functions you need from the SDKs you need

    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js";


    // TODO: Add SDKs for Firebase products that you want to use

    // https://firebase.google.com/docs/web/setup#available-libraries


    // Your web app's Firebase configuration

    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    const firebaseConfig = {

        apiKey: "AIzaSyDpevND_wFdc4ecj0SdSRjBrsnh_Tl6OS8",

        authDomain: "durhackx.firebaseapp.com",

        projectId: "durhackx",

        storageBucket: "durhackx.firebasestorage.app",

        messagingSenderId: "563104646617",

        appId: "1:563104646617:web:904574d136dced668d85c8",

        measurementId: "G-5KBFJMC4D1"

    };


    // Initialize Firebase

    const app = initializeApp(firebaseConfig);

    const analytics = getAnalytics(app);

    const auth = getAuth(app);

    const db = getFirestore(app);

    window.signUp = async function() {
        alert("Hello!");
        const name = document.getElementById("nameInput").value
        const email = document.getElementById("emailInput").value
        const password = document.getElementById("passwordInput").value
        if(name == ""  || email == "" || password == "") {
            return;
        }
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        await setDoc(doc(db, "users", userCredential.user.uid), {
            name,
            email,
            createdAt: new Date()
        });
    }  

    window.Testing = async function() {
            alert("Testing");
        } 
    </script>

</head>
  <body>
    <button type="button" onclick="Testing()">Test</button>
    <p id="testing">Hello!</p>
        <form>
            <div class="form-group middle">
                <label for="exampleInputEmail1">Name</label>
                <input type="text" class="form-control" id="nameInput" aria-describedby="emailHelp" placeholder="Enter name">
            </div>
            <div class="form-group middle">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp" placeholder="Enter email">
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group middle">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="passwordInput" placeholder="Password">
            </div>
            
            <p class="middle">Add spotify login</p>

            <button type="button" class="btn btn-primary middle" onclick="signUp()">Sign Up</button>
        </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>

</html>